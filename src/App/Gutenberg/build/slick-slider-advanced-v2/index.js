(()=>{var e={184:(e,t)=>{var l;!function(){"use strict";var a={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var l=arguments[t];if(l){var r=typeof l;if("string"===r||"number"===r)e.push(l);else if(Array.isArray(l)){if(l.length){var n=i.apply(null,l);n&&e.push(n)}}else if("object"===r){if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]")){e.push(l.toString());continue}for(var s in l)a.call(l,s)&&l[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(l=function(){return i}.apply(t,[]))||(e.exports=l)}()}},t={};function l(a){var i=t[a];if(void 0!==i)return i.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,l),r.exports}l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.blocks,t=window.wp.blob,a=window.wp.hooks,i="none",r="media",n="attachment",s="file",o="post",c="none",u="file",m="post",d=window.wp.element,g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"large";const l=Object.fromEntries(Object.entries(null!=e?e:{}).filter((e=>{let[t]=e;return["alt","id","link"].includes(t)})));l.url=e?.sizes?.[t]?.url||e?.media_details?.sizes?.[t]?.source_url||e?.url||e?.source_url;const a=e?.sizes?.full?.url||e?.media_details?.sizes?.full?.source_url;return a&&(l.fullUrl=a),l};function p(){return!d.Platform.isNative||function(){if(!window.wp||"boolean"!=typeof window.wp.galleryBlockV2Enabled)throw"window.wp.galleryBlockV2Enabled is not defined";return window.wp.galleryBlockV2Enabled}()}const b=e=>e?e.split(",").map((e=>parseInt(e,10))):[];(0,a.addFilter)("blocks.switchToBlockType.transformedBlock","core/gallery/update-third-party-transform-to",(function(t){if(p()&&"core/gallery"===t.name&&t.attributes?.images.length>0){const l=t.attributes.images.map((l=>{let{url:a,id:i,alt:r}=l;return(0,e.createBlock)("core/image",{url:a,id:i?parseInt(i,10):null,alt:r,sizeSlug:t.attributes.sizeSlug,linkDestination:t.attributes.linkDestination})}));delete t.attributes.ids,delete t.attributes.images,t.innerBlocks=l}return t})),(0,a.addFilter)("blocks.switchToBlockType.transformedBlock","core/gallery/update-third-party-transform-from",(function(e,t){const l=(Array.isArray(t)?t:[t]).find((t=>"core/gallery"===t.name&&t.innerBlocks.length>0&&!t.attributes.images?.length>0&&!e.name.includes("core/")));if(l){const e=l.innerBlocks.map((e=>{let{attributes:{url:t,id:l,alt:a}}=e;return{url:t,id:l?parseInt(l,10):null,alt:a}})),t=e.map((e=>{let{id:t}=e;return t}));l.attributes.images=e,l.attributes.ids=t}return e}));const f={from:[{type:"block",isMultiBlock:!0,blocks:["core/image"],transform:t=>{let{align:l,sizeSlug:a}=t[0];l=t.every((e=>e.align===l))?l:void 0,a=t.every((e=>e.sizeSlug===a))?a:void 0;const i=t.filter((e=>{let{url:t}=e;return t}));if(p()){const t=i.map((t=>(t.width=void 0,t.height=void 0,(0,e.createBlock)("core/image",t))));return(0,e.createBlock)("core/gallery",{align:l,sizeSlug:a},t)}return(0,e.createBlock)("core/gallery",{images:i.map((e=>{let{id:t,url:l,alt:a,caption:i}=e;return{id:t.toString(),url:l,alt:a,caption:i}})),ids:i.map((e=>{let{id:t}=e;return parseInt(t,10)})),align:l,sizeSlug:a})}},{type:"shortcode",tag:"gallery",attributes:{images:{type:"array",shortcode:e=>{let{named:{ids:t}}=e;if(!p())return b(t).map((e=>({id:e.toString()})))}},ids:{type:"array",shortcode:e=>{let{named:{ids:t}}=e;if(!p())return b(t)}},columns:{type:"number",shortcode:e=>{let{named:{columns:t="3"}}=e;return parseInt(t,10)}},linkTo:{type:"string",shortcode:e=>{let{named:{link:t}}=e;if(!p())switch(t){case"post":default:return m;case"file":return u}switch(t){case"post":return n;case"file":return r;default:return i}}}},transform(t){let{named:{ids:l,columns:a=3,link:s}}=t;const o=b(l).map((e=>parseInt(e,10)));let c=i;return"post"===s?c=n:"file"===s&&(c=r),(0,e.createBlock)("core/gallery",{columns:parseInt(a,10),linkTo:c},o.map((t=>(0,e.createBlock)("core/image",{id:t}))))},isMatch(e){let{named:t}=e;return void 0!==t.ids}},{type:"files",priority:1,isMatch:e=>1!==e.length&&e.every((e=>0===e.type.indexOf("image/"))),transform(l){if(p()){const a=l.map((l=>(0,e.createBlock)("core/image",{url:(0,t.createBlobURL)(l)})));return(0,e.createBlock)("core/gallery",{},a)}return(0,e.createBlock)("core/gallery",{images:l.map((e=>g({url:(0,t.createBlobURL)(e)})))})}}],to:[{type:"block",blocks:["core/image"],transform:(t,l)=>{let{align:a,images:i,ids:r,sizeSlug:n}=t;return p()?l.length>0?l.map((t=>{let{attributes:{url:l,alt:i,caption:r,title:n,href:s,rel:o,linkClass:c,id:u,sizeSlug:m,linkDestination:d,linkTarget:g,anchor:p,className:b}}=t;return(0,e.createBlock)("core/image",{align:a,url:l,alt:i,caption:r,title:n,href:s,rel:o,linkClass:c,id:u,sizeSlug:m,linkDestination:d,linkTarget:g,anchor:p,className:b})})):(0,e.createBlock)("core/image",{align:a}):i.length>0?i.map(((t,l)=>{let{url:i,alt:s,caption:o}=t;return(0,e.createBlock)("core/image",{id:r[l],url:i,alt:s,caption:o,align:a,sizeSlug:n})})):(0,e.createBlock)("core/image",{align:a})}}]};var h=l(184),y=l.n(h);const k=window.wp.blockEditor,_="file",v="post";function E(e){return Math.min(3,e?.images?.length)}function w(e,t){switch(t){case _:return{href:e?.source_url||e?.url,linkDestination:r};case v:return{href:e?.link,linkDestination:n};case r:return{href:e?.source_url||e?.url,linkDestination:r};case n:return{href:e?.link,linkDestination:n};case i:return{href:void 0,linkDestination:i}}return{}}function S(t){let l=t.linkTo?t.linkTo:"none";"post"===l?l="attachment":"file"===l&&(l="media");const a=t.images.map((a=>function(t,l,a){return(0,e.createBlock)("core/image",{...t.id&&{id:parseInt(t.id)},url:t.url,alt:t.alt,caption:t.caption,sizeSlug:l,...w(t,a)})}(a,t.sizeSlug,l))),{images:i,ids:r,...n}=t;return[{...n,linkTo:l,allowResize:!1},a]}const N=[{attributes:{images:{type:"array",default:[],source:"query",selector:".blocks-gallery-item",query:{url:{type:"string",source:"attribute",selector:"img",attribute:"src"},fullUrl:{type:"string",source:"attribute",selector:"img",attribute:"data-full-url"},link:{type:"string",source:"attribute",selector:"img",attribute:"data-link"},alt:{type:"string",source:"attribute",selector:"img",attribute:"alt",default:""},id:{type:"string",source:"attribute",selector:"img",attribute:"data-id"},caption:{type:"string",source:"html",selector:".blocks-gallery-item__caption"}}},ids:{type:"array",items:{type:"number"},default:[]},shortCodeTransforms:{type:"array",default:[],items:{type:"object"}},columns:{type:"number",minimum:1,maximum:8},caption:{type:"string",source:"html",selector:".blocks-gallery-caption"},imageCrop:{type:"boolean",default:!0},fixedHeight:{type:"boolean",default:!0},linkTarget:{type:"string"},linkTo:{type:"string"},sizeSlug:{type:"string",default:"large"},allowResize:{type:"boolean",default:!1}},save(e){let{attributes:t}=e;const{caption:l,columns:a,imageCrop:i}=t,r=y()("has-nested-images",{[`columns-${a}`]:void 0!==a,"columns-default":void 0===a,"is-cropped":i}),n=k.useBlockProps.save({className:r}),s=k.useInnerBlocksProps.save(n);return(0,d.createElement)("figure",s,s.children,!k.RichText.isEmpty(l)&&(0,d.createElement)(k.RichText.Content,{tagName:"figcaption",className:"blocks-gallery-caption",value:l}))}},{attributes:{images:{type:"array",default:[],source:"query",selector:".blocks-gallery-item",query:{url:{type:"string",source:"attribute",selector:"img",attribute:"src"},fullUrl:{type:"string",source:"attribute",selector:"img",attribute:"data-full-url"},link:{type:"string",source:"attribute",selector:"img",attribute:"data-link"},alt:{type:"string",source:"attribute",selector:"img",attribute:"alt",default:""},id:{type:"string",source:"attribute",selector:"img",attribute:"data-id"},caption:{type:"string",source:"html",selector:".blocks-gallery-item__caption"}}},ids:{type:"array",items:{type:"number"},default:[]},columns:{type:"number",minimum:1,maximum:8},caption:{type:"string",source:"html",selector:".blocks-gallery-caption"},imageCrop:{type:"boolean",default:!0},fixedHeight:{type:"boolean",default:!0},linkTo:{type:"string"},sizeSlug:{type:"string",default:"large"}},supports:{anchor:!0,align:!0},save(e){let{attributes:t}=e;const{images:l,columns:a=E(t),imageCrop:i,caption:r,linkTo:n}=t,s=`columns-${a} ${i?"is-cropped":""}`;return(0,d.createElement)("figure",k.useBlockProps.save({className:s}),(0,d.createElement)("ul",{className:"blocks-gallery-grid"},l.map((e=>{let t;switch(n){case _:t=e.fullUrl||e.url;break;case v:t=e.link}const l=(0,d.createElement)("img",{src:e.url,alt:e.alt,"data-id":e.id,"data-full-url":e.fullUrl,"data-link":e.link,className:e.id?`wp-image-${e.id}`:null});return(0,d.createElement)("li",{key:e.id||e.url,className:"blocks-gallery-item"},(0,d.createElement)("figure",null,t?(0,d.createElement)("a",{href:t},l):l,!k.RichText.isEmpty(e.caption)&&(0,d.createElement)(k.RichText.Content,{tagName:"figcaption",className:"blocks-gallery-item__caption",value:e.caption})))}))),!k.RichText.isEmpty(r)&&(0,d.createElement)(k.RichText.Content,{tagName:"figcaption",className:"blocks-gallery-caption",value:r}))},migrate:e=>p()?S(e):e},{attributes:{images:{type:"array",default:[],source:"query",selector:".blocks-gallery-item",query:{url:{type:"string",source:"attribute",selector:"img",attribute:"src"},fullUrl:{type:"string",source:"attribute",selector:"img",attribute:"data-full-url"},link:{type:"string",source:"attribute",selector:"img",attribute:"data-link"},alt:{type:"string",source:"attribute",selector:"img",attribute:"alt",default:""},id:{type:"string",source:"attribute",selector:"img",attribute:"data-id"},caption:{type:"string",source:"html",selector:".blocks-gallery-item__caption"}}},ids:{type:"array",items:{type:"number"},default:[]},columns:{type:"number",minimum:1,maximum:8},caption:{type:"string",source:"html",selector:".blocks-gallery-caption"},imageCrop:{type:"boolean",default:!0},linkTo:{type:"string",default:"none"},sizeSlug:{type:"string",default:"large"}},supports:{align:!0},isEligible(e){let{linkTo:t}=e;return!t||"attachment"===t||"media"===t},migrate(e){if(p())return S(e);let t=e.linkTo;return e.linkTo?"attachment"===e.linkTo?t="post":"media"===e.linkTo&&(t="file"):t="none",{...e,linkTo:t}},save(e){let{attributes:t}=e;const{images:l,columns:a=E(t),imageCrop:i,caption:r,linkTo:n}=t;return(0,d.createElement)("figure",{className:`columns-${a} ${i?"is-cropped":""}`},(0,d.createElement)("ul",{className:"blocks-gallery-grid"},l.map((e=>{let t;switch(n){case"media":t=e.fullUrl||e.url;break;case"attachment":t=e.link}const l=(0,d.createElement)("img",{src:e.url,alt:e.alt,"data-id":e.id,"data-full-url":e.fullUrl,"data-link":e.link,className:e.id?`wp-image-${e.id}`:null});return(0,d.createElement)("li",{key:e.id||e.url,className:"blocks-gallery-item"},(0,d.createElement)("figure",null,t?(0,d.createElement)("a",{href:t},l):l,!k.RichText.isEmpty(e.caption)&&(0,d.createElement)(k.RichText.Content,{tagName:"figcaption",className:"blocks-gallery-item__caption",value:e.caption})))}))),!k.RichText.isEmpty(r)&&(0,d.createElement)(k.RichText.Content,{tagName:"figcaption",className:"blocks-gallery-caption",value:r}))}},{attributes:{images:{type:"array",default:[],source:"query",selector:".blocks-gallery-item",query:{url:{source:"attribute",selector:"img",attribute:"src"},fullUrl:{source:"attribute",selector:"img",attribute:"data-full-url"},link:{source:"attribute",selector:"img",attribute:"data-link"},alt:{source:"attribute",selector:"img",attribute:"alt",default:""},id:{source:"attribute",selector:"img",attribute:"data-id"},caption:{type:"string",source:"html",selector:".blocks-gallery-item__caption"}}},ids:{type:"array",default:[]},columns:{type:"number"},caption:{type:"string",source:"html",selector:".blocks-gallery-caption"},imageCrop:{type:"boolean",default:!0},linkTo:{type:"string",default:"none"}},supports:{align:!0},isEligible(e){let{ids:t}=e;return t&&t.some((e=>"string"==typeof e))},migrate(e){var t;return p()?S(e):{...e,ids:(null!==(t=e.ids)&&void 0!==t?t:[]).map((e=>{const t=parseInt(e,10);return Number.isInteger(t)?t:null}))}},save(e){let{attributes:t}=e;const{images:l,columns:a=E(t),imageCrop:i,caption:r,linkTo:n}=t;return(0,d.createElement)("figure",{className:`columns-${a} ${i?"is-cropped":""}`},(0,d.createElement)("ul",{className:"blocks-gallery-grid"},l.map((e=>{let t;switch(n){case"media":t=e.fullUrl||e.url;break;case"attachment":t=e.link}const l=(0,d.createElement)("img",{src:e.url,alt:e.alt,"data-id":e.id,"data-full-url":e.fullUrl,"data-link":e.link,className:e.id?`wp-image-${e.id}`:null});return(0,d.createElement)("li",{key:e.id||e.url,className:"blocks-gallery-item"},(0,d.createElement)("figure",null,t?(0,d.createElement)("a",{href:t},l):l,!k.RichText.isEmpty(e.caption)&&(0,d.createElement)(k.RichText.Content,{tagName:"figcaption",className:"blocks-gallery-item__caption",value:e.caption})))}))),!k.RichText.isEmpty(r)&&(0,d.createElement)(k.RichText.Content,{tagName:"figcaption",className:"blocks-gallery-caption",value:r}))}},{attributes:{images:{type:"array",default:[],source:"query",selector:"ul.wp-block-gallery .blocks-gallery-item",query:{url:{source:"attribute",selector:"img",attribute:"src"},fullUrl:{source:"attribute",selector:"img",attribute:"data-full-url"},alt:{source:"attribute",selector:"img",attribute:"alt",default:""},id:{source:"attribute",selector:"img",attribute:"data-id"},link:{source:"attribute",selector:"img",attribute:"data-link"},caption:{type:"string",source:"html",selector:"figcaption"}}},ids:{type:"array",default:[]},columns:{type:"number"},imageCrop:{type:"boolean",default:!0},linkTo:{type:"string",default:"none"}},supports:{align:!0},save(e){let{attributes:t}=e;const{images:l,columns:a=E(t),imageCrop:i,linkTo:r}=t;return(0,d.createElement)("ul",{className:`columns-${a} ${i?"is-cropped":""}`},l.map((e=>{let t;switch(r){case"media":t=e.fullUrl||e.url;break;case"attachment":t=e.link}const l=(0,d.createElement)("img",{src:e.url,alt:e.alt,"data-id":e.id,"data-full-url":e.fullUrl,"data-link":e.link,className:e.id?`wp-image-${e.id}`:null});return(0,d.createElement)("li",{key:e.id||e.url,className:"blocks-gallery-item"},(0,d.createElement)("figure",null,t?(0,d.createElement)("a",{href:t},l):l,e.caption&&e.caption.length>0&&(0,d.createElement)(k.RichText.Content,{tagName:"figcaption",value:e.caption})))})))},migrate:e=>p()?S(e):e},{attributes:{images:{type:"array",default:[],source:"query",selector:"ul.wp-block-gallery .blocks-gallery-item",query:{url:{source:"attribute",selector:"img",attribute:"src"},alt:{source:"attribute",selector:"img",attribute:"alt",default:""},id:{source:"attribute",selector:"img",attribute:"data-id"},link:{source:"attribute",selector:"img",attribute:"data-link"},caption:{type:"string",source:"html",selector:"figcaption"}}},columns:{type:"number"},imageCrop:{type:"boolean",default:!0},linkTo:{type:"string",default:"none"}},isEligible(e){let{images:t,ids:l}=e;return t&&t.length>0&&(!l&&t||l&&t&&l.length!==t.length||t.some(((e,t)=>!e&&null!==l[t]||parseInt(e,10)!==l[t])))},migrate(e){var t;return p()?S(e):{...e,ids:(null!==(t=e.images)&&void 0!==t?t:[]).map((e=>{let{id:t}=e;return t?parseInt(t,10):null}))}},supports:{align:!0},save(e){let{attributes:t}=e;const{images:l,columns:a=E(t),imageCrop:i,linkTo:r}=t;return(0,d.createElement)("ul",{className:`columns-${a} ${i?"is-cropped":""}`},l.map((e=>{let t;switch(r){case"media":t=e.url;break;case"attachment":t=e.link}const l=(0,d.createElement)("img",{src:e.url,alt:e.alt,"data-id":e.id,"data-link":e.link,className:e.id?`wp-image-${e.id}`:null});return(0,d.createElement)("li",{key:e.id||e.url,className:"blocks-gallery-item"},(0,d.createElement)("figure",null,t?(0,d.createElement)("a",{href:t},l):l,e.caption&&e.caption.length>0&&(0,d.createElement)(k.RichText.Content,{tagName:"figcaption",value:e.caption})))})))}},{attributes:{images:{type:"array",default:[],source:"query",selector:"div.wp-block-gallery figure.blocks-gallery-image img",query:{url:{source:"attribute",attribute:"src"},alt:{source:"attribute",attribute:"alt",default:""},id:{source:"attribute",attribute:"data-id"}}},columns:{type:"number"},imageCrop:{type:"boolean",default:!0},linkTo:{type:"string",default:"none"},align:{type:"string",default:"none"}},supports:{align:!0},save(e){let{attributes:t}=e;const{images:l,columns:a=E(t),align:i,imageCrop:r,linkTo:n}=t,s=y()(`columns-${a}`,{alignnone:"none"===i,"is-cropped":r});return(0,d.createElement)("div",{className:s},l.map((e=>{let t;switch(n){case"media":t=e.url;break;case"attachment":t=e.link}const l=(0,d.createElement)("img",{src:e.url,alt:e.alt,"data-id":e.id});return(0,d.createElement)("figure",{key:e.id||e.url,className:"blocks-gallery-image"},t?(0,d.createElement)("a",{href:t},l):l)})))},migrate:e=>p()?S(e):e}],C=window.wp.compose,B=window.wp.components;function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},x.apply(this,arguments)}const T=window.wp.i18n,I=window.wp.data,M=window.wp.viewport,z=window.wp.primitives,R=window.wp.notices,P=(0,d.createElement)(z.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,d.createElement)(z.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M6 5.5h12a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5H6a.5.5 0 0 1-.5-.5V6a.5.5 0 0 1 .5-.5ZM4 6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6Zm4 10h2v-1.5H8V16Zm5 0h-2v-1.5h2V16Zm1 0h2v-1.5h-2V16Z"})),A=(0,d.createElement)(z.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,d.createElement)(z.Path,{d:"M20.2 8v11c0 .7-.6 1.2-1.2 1.2H6v1.5h13c1.5 0 2.7-1.2 2.7-2.8V8h-1.5zM18 16.4V4.6c0-.9-.7-1.6-1.6-1.6H4.6C3.7 3 3 3.7 3 4.6v11.8c0 .9.7 1.6 1.6 1.6h11.8c.9 0 1.6-.7 1.6-1.6zM4.5 4.6c0-.1.1-.1.1-.1h11.8c.1 0 .1.1.1.1V12l-2.3-1.7c-.3-.2-.6-.2-.9 0l-2.9 2.1L8 11.3c-.2-.1-.5-.1-.7 0l-2.9 1.5V4.6zm0 11.8v-1.8l3.2-1.7 2.4 1.2c.2.1.5.1.8-.1l2.8-2 2.8 2v2.5c0 .1-.1.1-.1.1H4.6c0-.1-.1-.2-.1-.2z"})),L=(0,d.createElement)(k.BlockIcon,{icon:A}),U="none",D="media",G="attachment",V=["noreferrer","noopener"];function $(e,t,l){switch(l||t){case s:case r:return{href:e?.source_url||e?.url,linkDestination:D};case o:case n:return{href:e?.link,linkDestination:G};case i:return{href:void 0,linkDestination:U}}return{}}const O=window.lodash;function F(e,t){let{rel:l}=t;const a=e?"_blank":void 0;let i;return i=a||l?function(e){let t=e;return void 0===e||(0,O.isEmpty)(t)||(0,O.isEmpty)(t)||(V.forEach((e=>{const l=new RegExp("\\b"+e+"\\b","gi");t=t.replace(l,"")})),t!==e&&(t=t.trim()),(0,O.isEmpty)(t)&&(t=void 0)),t}(l):void 0,{linkTarget:a,rel:i}}const H=(0,d.forwardRef)(((t,l)=>{const{attributes:a,isSelected:i,setAttributes:r,mediaPlaceholder:n,insertBlocksAfter:s,blockProps:o,__unstableLayoutClassNames:c,showCaption:u}=t,{align:m,columns:g,caption:p,imageCrop:b}=a;return(0,d.createElement)("figure",x({},o,{className:y()(o.className,c,"blocks-gallery-grid","alex-slick-slider","alex-slick-slider-advanced-v2",{[`align${m}`]:m,[`columns-${g}`]:void 0!==g,"columns-default":void 0===g,"is-cropped":b})}),o.children,i&&!o.children&&(0,d.createElement)(z.View,{className:"blocks-gallery-media-placeholder-wrapper"},n),u&&(!k.RichText.isEmpty(p)||i)&&(0,d.createElement)(k.RichText,{identifier:"caption","aria-label":(0,T.__)("Gallery caption text"),placeholder:(0,T.__)("Write gallery caption…"),value:p,className:y()("blocks-gallery-caption",(0,k.__experimentalGetElementClassName)("caption")),ref:l,tagName:"figcaption",onChange:e=>r({caption:e}),inlineToolbar:!0,__unstableOnSplitAtEnd:()=>s((0,e.createBlock)((0,e.getDefaultBlockName)()))}))}));const j=window.wp.coreData,q=[];function J(e){let{blockGap:t,clientId:l}=e;const a=(0,d.useContext)(k.BlockList.__unstableElementContext),i="var( --wp--style--gallery-gap-default, var( --gallery-block--gutter-size, var( --wp--style--block-gap, 0.5em ) ) )";let r,n=i,s=i;t&&(r="string"==typeof t?(0,k.__experimentalGetGapCSSValue)(t):(0,k.__experimentalGetGapCSSValue)(t?.top)||i,s="string"==typeof t?(0,k.__experimentalGetGapCSSValue)(t):(0,k.__experimentalGetGapCSSValue)(t?.left)||i,n=r===s?r:`${r} ${s}`);const o=`#block-${l} {\n\t\t--wp--style--unstable-gallery-gap: ${"0"===s?"0px":s};\n\t\tgap: ${n}\n\t}`;return o&&a?(0,d.createPortal)((0,d.createElement)((()=>(0,d.createElement)("style",null,o)),null),a):null}const W=[{value:n,label:(0,T.__)("Attachment Page")},{value:r,label:(0,T.__)("Media File")},{value:i,label:(0,T._x)("None","Media item link option")}],Z=["image"],K=["core/image"],Y=d.Platform.isNative?(0,T.__)("ADD MEDIA"):(0,T.__)("Drag images, upload new ones or select files from your library."),Q=d.Platform.isNative?{type:"stepper"}:{},X=(0,C.compose)([(0,M.withViewportMatch)({isNarrow:"< small"})])((function(l){const{setAttributes:a,attributes:r,className:n,clientId:s,isSelected:o,insertBlocksAfter:c,isContentLocked:u}=l,{columns:m,imageCrop:p,linkTarget:b,linkTo:f,sizeSlug:h,caption:_}=r,[v,E]=(0,d.useState)(!!_),w=(0,C.usePrevious)(_);(0,d.useEffect)((()=>{_&&!w&&E(!0)}),[_,w]),(0,d.useEffect)((()=>{o||_||E(!1)}),[o,_]);const S=(0,d.useCallback)((e=>{e&&!_&&e.focus()}),[_]),{__unstableMarkNextChangeAsNotPersistent:N,replaceInnerBlocks:M,updateBlockAttributes:A,selectBlock:U,clearSelectedBlock:D}=(0,I.useDispatch)(k.store),{createSuccessNotice:G,createErrorNotice:V}=(0,I.useDispatch)(R.store),{getBlock:O,getSettings:X,preferredStyle:ee}=(0,I.useSelect)((e=>{const t=e(k.store).getSettings().__experimentalPreferredStyleVariations;return{getBlock:e(k.store).getBlock,getSettings:e(k.store).getSettings,preferredStyle:t?.value?.["core/image"]}}),[]),te=(0,I.useSelect)((e=>e(k.store).getBlock(s)?.innerBlocks),[s]),le=(0,I.useSelect)((e=>e(k.store).wasBlockJustInserted(s,"inserter_menu")),[s]),ae=(0,d.useMemo)((()=>te?.map((e=>({clientId:e.clientId,id:e.attributes.id,url:e.attributes.url,attributes:e.attributes,fromSavedContent:Boolean(e.originalContent)})))),[te]),ie=function(e){return(0,I.useSelect)((t=>{var l;const a=e.map((e=>e.attributes.id)).filter((e=>void 0!==e));return 0===a.length?q:null!==(l=t(j.store).getMediaItems({include:a.join(","),per_page:-1,orderby:"include"}))&&void 0!==l?l:q}),[e])}(te),re=function(e,t){const[l,a]=(0,d.useState)([]);return(0,d.useMemo)((()=>function(){let i=!1;const r=l.filter((t=>e.find((e=>t.clientId===e.clientId))));r.length<l.length&&(i=!0),e.forEach((e=>{e.fromSavedContent&&!r.find((t=>t.id===e.id))&&(i=!0,r.push(e))}));const n=e.filter((e=>!r.find((t=>e.clientId&&t.clientId===e.clientId))&&t?.find((t=>t.id===e.id))&&!e.fromSavedConent));return(i||n?.length>0)&&a([...r,...n]),n.length>0?n:null}()),[e,t])}(ae,ie);(0,d.useEffect)((()=>{re?.forEach((e=>{N(),A(e.clientId,{...se(e.attributes),id:e.id,align:void 0})})),re?.length>0&&D()}),[re]);const ne=function(e,t,l){return(0,d.useMemo)((()=>function(){if(!e||0===e.length)return;const{imageSizes:a}=l();let i={};t&&(i=e.reduce(((e,t)=>{if(!t.id)return e;const l=a.reduce(((e,l)=>{const a=t.sizes?.[l.slug]?.url,i=t.media_details?.sizes?.[l.slug]?.source_url;return{...e,[l.slug]:a||i}}),{});return{...e,[parseInt(t.id,10)]:l}}),{}));const r=Object.values(i);return a.filter((e=>{let{slug:t}=e;return r.some((e=>e[t]))})).map((e=>{let{name:t,slug:l}=e;return{value:l,label:t}}))}()),[e,t])}(ie,o,X);function se(e){const t=e.id?ie.find((t=>{let{id:l}=t;return l===e.id})):null;let l,a;return l=e.className&&""!==e.className?e.className:ee?`is-style-${ee}`:void 0,a=e.linkTarget||e.rel?{linkTarget:e.linkTarget,rel:e.rel}:F(b,r),{...g(t,h),...$(t,f,e?.linkDestination),...a,className:l,sizeSlug:h,caption:e.caption||t.caption?.raw,alt:e.alt||t.alt_text}}function oe(e){const t=d.Platform.isNative&&e.id?ie.find((t=>{let{id:l}=t;return l===e.id})):null,l=t?t?.media_type:e.type;return Z.some((e=>0===l?.indexOf(e)))||0===e.url?.indexOf("blob:")}function ce(l){const a="[object FileList]"===Object.prototype.toString.call(l),i=a?Array.from(l).map((e=>e.url?e:g({url:(0,t.createBlobURL)(e)}))):l;i.every(oe)||V((0,T.__)("If uploading to a gallery all files need to be image formats"),{id:"gallery-upload-invalid-file",type:"snackbar"});const r=i.filter((e=>e.url||oe(e))).map((e=>e.url?e:g({url:(0,t.createBlobURL)(e)}))),n=r.reduce(((e,t,l)=>(e[t.id]=l,e)),{}),o=a?te:te.filter((e=>r.find((t=>t.id===e.attributes.id)))),c=r.filter((e=>!o.find((t=>e.id===t.attributes.id)))).map((t=>(0,e.createBlock)("core/image",{id:t.id,url:t.url,caption:t.caption,alt:t.alt})));c?.length>0&&U(c[0].clientId),M(s,o.concat(c).sort(((e,t)=>n[e.attributes.id]-n[t.attributes.id])))}(0,d.useEffect)((()=>{f||(N(),a({linkTo:window?.wp?.media?.view?.settings?.defaultProps?.link||i}))}),[f]);const ue=!!ae.length,me=ue&&ae.some((e=>!!e.id)),de=ae.some((e=>d.Platform.isNative?0===e.url?.indexOf("file:"):!e.id&&0===e.url?.indexOf("blob:"))),ge=d.Platform.select({web:{addToGallery:!1,disableMediaButtons:de,value:{}},native:{addToGallery:me,isAppender:ue,disableMediaButtons:ue&&!o||de,value:me?ae:{},autoOpenMediaUpload:!ue&&o&&le}}),pe=(0,d.createElement)(k.MediaPlaceholder,x({handleUpload:!1,icon:L,labels:{title:(0,T.__)("Gallery"),instructions:Y},onSelect:ce,accept:"image/*",allowedTypes:Z,multiple:!0,onError:function(e){V(e,{type:"snackbar"})}},ge)),be=(0,k.useBlockProps)({className:y()(n,"has-nested-images")}),fe=d.Platform.isNative&&{marginHorizontal:0,marginVertical:0},he=(0,k.useInnerBlocksProps)(be,{allowedBlocks:K,orientation:"horizontal",renderAppender:!1,...fe});if(!ue)return(0,d.createElement)(z.View,he,he.children,pe);const ye=f&&"none"!==f;return(0,d.createElement)(d.Fragment,null,(0,d.createElement)(k.InspectorControls,null,(0,d.createElement)(B.PanelBody,{title:(0,T.__)("Settings")},ae.length>1&&(0,d.createElement)(B.RangeControl,x({__nextHasNoMarginBottom:!0,label:(0,T.__)("Columns"),value:m||(ke=ae.length,ke?Math.min(3,ke):3),onChange:function(e){a({columns:e})},min:1,max:Math.min(8,ae.length)},Q,{required:!0})),(0,d.createElement)(B.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,T.__)("Crop images"),checked:!!p,onChange:function(){a({imageCrop:!p})},help:function(e){return e?(0,T.__)("Thumbnails are cropped to align."):(0,T.__)("Thumbnails are not cropped.")}}),(0,d.createElement)(B.SelectControl,{__nextHasNoMarginBottom:!0,label:(0,T.__)("Link to"),value:f,onChange:function(e){a({linkTo:e});const t={},l=[];O(s).innerBlocks.forEach((a=>{l.push(a.clientId);const i=a.attributes.id?ie.find((e=>{let{id:t}=e;return t===a.attributes.id})):null;t[a.clientId]=$(i,e)})),A(l,t,!0);const i=[...W].find((t=>t.value===e));G((0,T.sprintf)(/* translators: %s: image size settings */
(0,T.__)("All gallery image links updated to: %s"),i.label),{id:"gallery-attributes-linkTo",type:"snackbar"})},options:W,hideCancelButton:!0}),ye&&(0,d.createElement)(B.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,T.__)("Open in new tab"),checked:"_blank"===b,onChange:function(e){const t=e?"_blank":void 0;a({linkTarget:t});const l={},i=[];O(s).innerBlocks.forEach((e=>{i.push(e.clientId),l[e.clientId]=F(t,e.attributes)})),A(i,l,!0);const r=e?(0,T.__)("All gallery images updated to open in new tab"):(0,T.__)("All gallery images updated to not open in new tab");G(r,{id:"gallery-attributes-openInNewTab",type:"snackbar"})}}),ne?.length>0&&(0,d.createElement)(B.SelectControl,{__nextHasNoMarginBottom:!0,label:(0,T.__)("Image size"),value:h,options:ne,onChange:function(e){a({sizeSlug:e});const t={},l=[];O(s).innerBlocks.forEach((a=>{l.push(a.clientId);const i=a.attributes.id?ie.find((e=>{let{id:t}=e;return t===a.attributes.id})):null;t[a.clientId]=function(e,t){const l=e?.media_details?.sizes?.[t]?.source_url;return l?{url:l,width:void 0,height:void 0,sizeSlug:t}:{}}(i,e)})),A(l,t,!0);const i=ne.find((t=>t.value===e));G((0,T.sprintf)(/* translators: %s: image size settings */
(0,T.__)("All gallery image sizes updated to: %s"),i.label),{id:"gallery-attributes-sizeSlug",type:"snackbar"})},hideCancelButton:!0}),d.Platform.isWeb&&!ne&&me&&(0,d.createElement)(B.BaseControl,{className:"gallery-image-sizes"},(0,d.createElement)(B.BaseControl.VisualLabel,null,(0,T.__)("Image size")),(0,d.createElement)(z.View,{className:"gallery-image-sizes__loading"},(0,d.createElement)(B.Spinner,null),(0,T.__)("Loading options…"))))),(0,d.createElement)(k.BlockControls,{group:"block"},!u&&(0,d.createElement)(B.ToolbarButton,{onClick:()=>{E(!v),v&&_&&a({caption:void 0})},icon:P,isPressed:v,label:v?(0,T.__)("Remove caption"):(0,T.__)("Add caption")})),(0,d.createElement)(k.BlockControls,{group:"other"},(0,d.createElement)(k.MediaReplaceFlow,{allowedTypes:Z,accept:"image/*",handleUpload:!1,onSelect:ce,name:(0,T.__)("Add"),multiple:!0,mediaIds:ae.filter((e=>e.id)).map((e=>e.id)),addToGallery:me})),d.Platform.isWeb&&(0,d.createElement)(J,{blockGap:r.style?.spacing?.blockGap,clientId:s}),(0,d.createElement)(H,x({},l,{showCaption:v,ref:d.Platform.isWeb?S:void 0,images:ae,mediaPlaceholder:!ue||d.Platform.isNative?pe:void 0,blockProps:he,insertBlocksAfter:c})));var ke})),ee=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"large";const l=Object.fromEntries(Object.entries(null!=e?e:{}).filter((e=>{let[t]=e;return["alt","id","link","caption"].includes(t)})));l.url=e?.sizes?.[t]?.url||e?.media_details?.sizes?.[t]?.source_url||e?.url;const a=e?.sizes?.full?.url||e?.media_details?.sizes?.full?.source_url;return a&&(l.fullUrl=a),l},te=window.wp.keycodes,le=(0,d.createElement)(z.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,d.createElement)(z.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v8.4l-3-2.9c-.3-.3-.8-.3-1 0L11.9 14 9 12c-.3-.2-.6-.2-.8 0l-3.6 2.6V5c-.1-.3.1-.5.4-.5zm14 15H5c-.3 0-.5-.2-.5-.5v-2.4l4.1-3 3 1.9c.3.2.7.2.9-.1L16 12l3.5 3.4V19c0 .3-.2.5-.5.5z"})),ae=(0,d.createElement)(z.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,d.createElement)(z.Path,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"})),ie=(0,d.createElement)(z.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,d.createElement)(z.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"})),re=(0,d.createElement)(z.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,d.createElement)(z.Path,{d:"M20.1 5.1L16.9 2 6.2 12.7l-1.3 4.4 4.5-1.3L20.1 5.1zM4 20.8h8v-1.5H4v1.5z"})),ne=(0,d.createElement)(z.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,d.createElement)(z.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"}));class se extends d.Component{constructor(){super(...arguments),this.onSelectImage=this.onSelectImage.bind(this),this.onRemoveImage=this.onRemoveImage.bind(this),this.bindContainer=this.bindContainer.bind(this),this.onEdit=this.onEdit.bind(this),this.onSelectImageFromLibrary=this.onSelectImageFromLibrary.bind(this),this.onSelectCustomURL=this.onSelectCustomURL.bind(this),this.state={isEditing:!1}}bindContainer(e){this.container=e}onSelectImage(){this.props.isSelected||this.props.onSelect()}onRemoveImage(e){this.container===this.container.ownerDocument.activeElement&&this.props.isSelected&&-1!==[te.BACKSPACE,te.DELETE].indexOf(e.keyCode)&&(e.preventDefault(),this.props.onRemove())}onEdit(){this.setState({isEditing:!0})}componentDidUpdate(){const{image:e,url:t,__unstableMarkNextChangeAsNotPersistent:l}=this.props;e&&!t&&(l(),this.props.setAttributes({url:e.source_url,alt:e.alt_text}))}deselectOnBlur(){this.props.onDeselect()}onSelectImageFromLibrary(e){const{setAttributes:l,id:a,url:i,alt:r,caption:n,sizeSlug:s}=this.props;if(!e||!e.url)return;let o=ee(e,s);if(((e,l)=>!e&&(0,t.isBlobURL)(l))(a,i)&&r){const{alt:e,...t}=o;o=t}if(n&&!o.caption){const{caption:e,...t}=o;o=t}l(o),this.setState({isEditing:!1})}onSelectCustomURL(e){const{setAttributes:t,url:l}=this.props;e!==l&&(t({url:e,id:void 0}),this.setState({isEditing:!1}))}render(){const{url:e,alt:l,id:a,linkTo:i,link:r,isFirstItem:n,isLastItem:s,isSelected:o,caption:c,onRemove:g,onMoveForward:p,onMoveBackward:b,setAttributes:f,"aria-label":h}=this.props,{isEditing:_}=this.state;let v;switch(i){case u:v=e;break;case m:v=r}const E=(0,d.createElement)(d.Fragment,null,(0,d.createElement)("img",{src:e,alt:l,"data-id":a,onKeyDown:this.onRemoveImage,tabIndex:"0","aria-label":h,ref:this.bindContainer}),(0,t.isBlobURL)(e)&&(0,d.createElement)(B.Spinner,null)),w=y()({"is-selected":o,"is-transient":(0,t.isBlobURL)(e)});return(0,d.createElement)("figure",{className:w,onClick:this.onSelectImage,onFocus:this.onSelectImage},!_&&(v?(0,d.createElement)("a",{href:v},E):E),_&&(0,d.createElement)(k.MediaPlaceholder,{labels:{title:(0,T.__)("Edit gallery image")},icon:le,onSelect:this.onSelectImageFromLibrary,onSelectURL:this.onSelectCustomURL,accept:"image/*",allowedTypes:["image"],value:{id:a,src:e}}),(0,d.createElement)(B.ButtonGroup,{className:"block-library-gallery-item__inline-menu is-left"},(0,d.createElement)(B.Button,{icon:ae,onClick:n?void 0:b,label:(0,T.__)("Move image backward"),"aria-disabled":n,disabled:!o}),(0,d.createElement)(B.Button,{icon:ie,onClick:s?void 0:p,label:(0,T.__)("Move image forward"),"aria-disabled":s,disabled:!o})),(0,d.createElement)(B.ButtonGroup,{className:"block-library-gallery-item__inline-menu is-right"},(0,d.createElement)(B.Button,{icon:re,onClick:this.onEdit,label:(0,T.__)("Replace image"),disabled:!o}),(0,d.createElement)(B.Button,{icon:ne,onClick:g,label:(0,T.__)("Remove image"),disabled:!o})),!_&&(o||c)&&(0,d.createElement)(k.RichText,{tagName:"figcaption",className:(0,k.__experimentalGetElementClassName)("caption"),"aria-label":(0,T.__)("Image caption text"),placeholder:o?(0,T.__)("Add caption"):null,value:c,onChange:e=>f({caption:e}),inlineToolbar:!0}))}}const oe=(0,C.compose)([(0,I.withSelect)(((e,t)=>{const{getMedia:l}=e(j.store),{id:a}=t;return{image:a?l(parseInt(a,10)):null}})),(0,I.withDispatch)((e=>{const{__unstableMarkNextChangeAsNotPersistent:t}=e(k.store);return{__unstableMarkNextChangeAsNotPersistent:t}}))])(se);function ce(e){let{isHidden:t,...l}=e;return t?(0,d.createElement)(B.VisuallyHidden,x({as:k.RichText},l)):(0,d.createElement)(k.RichText,l)}const ue=t=>{const{attributes:l,isSelected:a,setAttributes:i,selectedImage:r,mediaPlaceholder:n,onMoveBackward:s,onMoveForward:o,onRemoveImage:c,onSelectImage:u,onDeselectImage:m,onSetImageAttributes:g,insertBlocksAfter:p,blockProps:b}=t,{align:f,columns:h=E(l),caption:_,imageCrop:v,images:w}=l;return(0,d.createElement)("figure",x({},b,{className:y()(b.className,{[`align${f}`]:f,[`columns-${h}`]:h,"is-cropped":v})}),(0,d.createElement)("ul",{className:"blocks-gallery-grid"},w.map(((e,t)=>{const i=(0,T.sprintf)(/* translators: 1: the order number of the image. 2: the total number of images. */
(0,T.__)("image %1$d of %2$d in gallery"),t+1,w.length);return(0,d.createElement)("li",{className:"blocks-gallery-item",key:e.id?`${e.id}-${t}`:e.url},(0,d.createElement)(oe,{url:e.url,alt:e.alt,id:e.id,isFirstItem:0===t,isLastItem:t+1===w.length,isSelected:a&&r===t,onMoveBackward:s(t),onMoveForward:o(t),onRemove:c(t),onSelect:u(t),onDeselect:m(t),setAttributes:e=>g(t,e),caption:e.caption,"aria-label":i,sizeSlug:l.sizeSlug}))}))),n,(0,d.createElement)(ce,{isHidden:!a&&k.RichText.isEmpty(_),tagName:"figcaption",className:y()("blocks-gallery-caption",(0,k.__experimentalGetElementClassName)("caption")),"aria-label":(0,T.__)("Gallery caption text"),placeholder:(0,T.__)("Write gallery caption…"),value:_,onChange:e=>i({caption:e}),inlineToolbar:!0,__unstableOnSplitAtEnd:()=>p((0,e.createBlock)((0,e.getDefaultBlockName)()))}))},me=[{value:m,label:(0,T.__)("Attachment Page")},{value:u,label:(0,T.__)("Media File")},{value:c,label:(0,T.__)("None")}],de=["image"],ge=d.Platform.select({web:(0,T.__)("Drag images, upload new ones or select files from your library."),native:(0,T.__)("ADD MEDIA")}),pe=d.Platform.select({web:{},native:{type:"stepper"}}),be=(0,C.compose)([B.withNotices,(0,M.withViewportMatch)({isNarrow:"< small"})])((function(e){const{attributes:l,clientId:a,isSelected:i,noticeUI:r,noticeOperations:n,onFocus:s}=e,{columns:o=E(l),imageCrop:u,images:m,linkTo:g,sizeSlug:p}=l,[b,f]=(0,d.useState)(),[h,y]=(0,d.useState)(),{__unstableMarkNextChangeAsNotPersistent:_}=(0,I.useDispatch)(k.store),{imageSizes:v,mediaUpload:w,getMedia:S,wasBlockJustInserted:N}=(0,I.useSelect)((e=>{const t=e(k.store).getSettings();return{imageSizes:t.imageSizes,mediaUpload:t.mediaUpload,getMedia:e(j.store).getMedia,wasBlockJustInserted:e(k.store).wasBlockJustInserted(a,"inserter_menu")}})),C=(0,d.useMemo)((()=>{var e;return i?(null!==(e=l.ids)&&void 0!==e?e:[]).reduce(((e,t)=>{if(!t)return e;const l=S(t),a=v.reduce(((e,t)=>{const a=l?.sizes?.[t.slug]?.url,i=l?.media_details?.sizes?.[t.slug]?.source_url;return{...e,[t.slug]:a||i}}),{});return{...e,[parseInt(t,10)]:a}}),{}):{}}),[i,l.ids,v]);function M(t){if(t.ids)throw new Error('The "ids" attribute should not be changed directly. It is managed automatically when "images" attribute changes');t.images&&(t={...t,ids:t.images.map((e=>{let{id:t}=e;return parseInt(t,10)}))}),e.setAttributes(t)}function R(e,t){const l=[...m];l.splice(t,1,m[e]),l.splice(e,1,m[t]),f(t),M({images:l})}function P(e){const t=e.id.toString(),l=m.find((e=>{let{id:l}=e;return l===t})),a=l?l.caption:e.caption;if(!h)return a;const i=h.find((e=>{let{id:l}=e;return l===t}));return i&&i.caption!==e.caption?e.caption:a}function A(e){y(e.map((e=>({id:e.id.toString(),caption:e.caption})))),M({images:e.map((e=>({...ee(e,p),caption:P(e),id:e.id.toString()}))),columns:l.columns?Math.min(e.length,l.columns):l.columns})}(0,d.useEffect)((()=>{if("web"===d.Platform.OS&&m&&m.length>0&&m.every((e=>{let{url:l}=e;return(0,t.isBlobURL)(l)}))){const e=m.map((e=>{let{url:l}=e;return(0,t.getBlobByURL)(l)}));m.forEach((e=>{let{url:l}=e;return(0,t.revokeBlobURL)(l)})),w({filesList:e,onFileChange:A,allowedTypes:["image"]})}}),[]),(0,d.useEffect)((()=>{i||f()}),[i]),(0,d.useEffect)((()=>{g||(_(),M({linkTo:window?.wp?.media?.view?.settings?.defaultProps?.link||c}))}),[g]);const U=!!m.length,D=U&&m.some((e=>!!e.id)),G=(0,d.createElement)(k.MediaPlaceholder,{addToGallery:D,isAppender:U,disableMediaButtons:U&&!i,icon:!U&&L,labels:{title:!U&&(0,T.__)("Gallery"),instructions:!U&&ge},onSelect:A,accept:"image/*",allowedTypes:de,multiple:!0,value:D?m:{},onError:function(e){n.removeAllNotices(),n.createErrorNotice(e)},notices:U?void 0:r,onFocus:s,autoOpenMediaUpload:!U&&i&&N}),V=(0,k.useBlockProps)();if(!U)return(0,d.createElement)(z.View,V,G);const $=function(){const e=Object.values(C);return v.filter((t=>{let{slug:l}=t;return e.some((e=>e[l]))})).map((e=>{let{name:t,slug:l}=e;return{value:l,label:t}}))}(),F=U&&!(0,O.isEmpty)($);return(0,d.createElement)(d.Fragment,null,(0,d.createElement)(k.InspectorControls,null,(0,d.createElement)(B.PanelBody,{title:(0,T.__)("Settings")},m.length>1&&(0,d.createElement)(B.RangeControl,x({__nextHasNoMarginBottom:!0,label:(0,T.__)("Columns"),value:o,onChange:function(e){M({columns:e})},min:1,max:Math.min(8,m.length)},pe,{required:!0})),(0,d.createElement)(B.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,T.__)("Crop images"),checked:!!u,onChange:function(){M({imageCrop:!u})},help:function(e){return e?(0,T.__)("Thumbnails are cropped to align."):(0,T.__)("Thumbnails are not cropped.")}}),(0,d.createElement)(B.SelectControl,{__nextHasNoMarginBottom:!0,label:(0,T.__)("Link to"),value:g,onChange:function(e){M({linkTo:e})},options:me,hideCancelButton:!0}),F&&(0,d.createElement)(B.SelectControl,{__nextHasNoMarginBottom:!0,label:(0,T.__)("Image size"),value:p,options:$,onChange:function(e){M({images:(null!=m?m:[]).map((t=>{if(!t.id)return t;const l=C[parseInt(t.id,10)]?.[e];return{...t,...l&&{url:l}}})),sizeSlug:e})},hideCancelButton:!0}))),r,(0,d.createElement)(ue,x({},e,{selectedImage:b,mediaPlaceholder:G,onMoveBackward:function(e){return()=>{0!==e&&R(e,e-1)}},onMoveForward:function(e){return()=>{e!==m.length-1&&R(e,e+1)}},onRemoveImage:function(e){return()=>{const t=m.filter(((t,l)=>e!==l));f(),M({images:t,columns:l.columns?Math.min(t.length,l.columns):l.columns})}},onSelectImage:function(e){return()=>{f(e)}},onDeselectImage:function(){return()=>{f()}},onSetImageAttributes:function(e,t){m[e]&&M({images:[...m.slice(0,e),{...m[e],...t},...m.slice(e+1)]})},blockProps:V,onFocusGalleryCaption:function(){f()}})))})),fe=(0,C.compose)([B.withNotices])((function(e){return p()?(0,d.createElement)(X,e):(0,d.createElement)(be,e)})),he=JSON.parse('{"u2":"alex-plugin-gutenberg/slick-slider-advanced-v2"}');(0,e.registerBlockType)(he.u2,{icon:A,example:{attributes:{columns:2},innerBlocks:[{name:"core/image",attributes:{url:"https://s.w.org/images/core/5.3/Glacial_lakes%2C_Bhutan.jpg"}},{name:"core/image",attributes:{url:"https://s.w.org/images/core/5.3/Sediment_off_the_Yucatan_Peninsula.jpg"}}]},transforms:f,edit:e=>(0,d.createElement)(d.Fragment,null,(0,d.createElement)("div",{style:{textAlign:"center",padding:"10px"}},(0,d.createElement)("h4",{style:{fontSize:"24px",textAlign:"center",padding:"15px"}},"Slider."),(0,d.createElement)("span",null,"Slider based on slick slider js lib and default gallery block")),fe(e)),save:function(e){let{attributes:t}=e;if(!p())return function(e){let{attributes:t}=e;const{images:l,columns:a=E(t),imageCrop:i,caption:r,linkTo:n}=t,s=`columns-${a} ${i?"is-cropped":""}`;return(0,d.createElement)("figure",k.useBlockProps.save({className:s}),(0,d.createElement)("ul",{className:"blocks-gallery-grid"},l.map((e=>{let t;switch(n){case u:t=e.fullUrl||e.url;break;case m:t=e.link}const l=(0,d.createElement)("img",{src:e.url,alt:e.alt,"data-id":e.id,"data-full-url":e.fullUrl,"data-link":e.link,className:e.id?`wp-image-${e.id}`:null});return(0,d.createElement)("li",{key:e.id||e.url,className:"blocks-gallery-item"},(0,d.createElement)("figure",null,t?(0,d.createElement)("a",{href:t},l):l,!k.RichText.isEmpty(e.caption)&&(0,d.createElement)(k.RichText.Content,{tagName:"figcaption",className:y()("blocks-gallery-item",(0,k.__experimentalGetElementClassName)("caption")),value:e.caption})))}))),!k.RichText.isEmpty(r)&&(0,d.createElement)(k.RichText.Content,{tagName:"figcaption",className:y()("blocks-gallery-caption",(0,k.__experimentalGetElementClassName)("caption")),value:r}))}({attributes:t});const{caption:l,columns:a,imageCrop:i}=t,r=y()("has-nested-images",{[`columns-${a}`]:void 0!==a,"columns-default":void 0===a,"is-cropped":i,"alex-slick-slider":!0,"alex-slick-slider-advanced-v2":!0,"alex-gutenberg-slick-slider":!0}),n=k.useBlockProps.save({className:r}),s=k.useInnerBlocksProps.save(n);return(0,d.createElement)("figure",s,(0,d.createElement)("div",{className:"slider-img"},s.children,!k.RichText.isEmpty(l)&&(0,d.createElement)(k.RichText.Content,{tagName:"figcaption",className:y()("blocks-gallery-caption",(0,k.__experimentalGetElementClassName)("caption")),value:l})),(0,d.createElement)("div",{className:"slider-nav"},s.children,!k.RichText.isEmpty(l)&&(0,d.createElement)(k.RichText.Content,{tagName:"figcaption",className:y()("blocks-gallery-caption",(0,k.__experimentalGetElementClassName)("caption")),value:l})))},deprecated:N})})()})();